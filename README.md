[合集 \- C\#，.net core(1\)](https://github.com)1\.七牛云存储数据，删除无用数据10\-17收起
最近公司有一个业务，由于多年使用七牛云存储数据【一些图片，文件】，导致占用了好几个T的空间， 其实有好几年之前的大量数据是现在不再使用的， 于是需要删除这批数据。
需要注意的是好几年之前的数据和现在的业务生成的数据都是用的一个储存空间， 想要删除就必须要根据时间来进行筛选，
例如2022年之前的数据全部删除：
思路：数据备份，虽然数据不再使用，但还是小心为上，现将数据备份在进行删除， 查看七牛云官方文档，删除数据是没有根据时间筛选这个功能的，但有趣的是可以根据一个文档内记录的数据名称来进行筛选， 所以，我们把想要删除的数据名称给存储到一个文档中就可以实现想要删除的无用数据的功能了：



点击查看代码

```


|  | 查询语句：qshell stat 空间名称 文件名称 |
| --- | --- |
|  | 将需要查询的文件导入txt文件中： qhsell listbucket2 空间名称 --stat 2022-01-01 --end 2024-01-01 --show-fields Key > filename.txt |
|  | 删除txt文件中记录的数据名称：qshell batchdelete 空间名称 -i filename.txt --force |


```


再来说一个如何进行数据备份：
数据备份无法进行筛选，只能将某个库中的数据全部进行备份，所以备份之前要先查看七牛云库中的数据量有多大，在准备一个硬盘或者U盘， 容量大雨数据量就可以了，下边事备份语句：



点击查看代码

```


|  | 空间中的文件备份：[需要配置文件自己配置]\r\n |
| --- | --- |
|  | { |
|  | "dest_dir"    :    "D:\qshell-v2.13.0-windows-amd64\qiniuyunfile", |
|  | "bucket"    :    "xxxxxxx" |
|  | } |
|  | 备份语句：a.qshell qdownload -c 10 xxxx.conf  【-c后边表示线程数   xxx.conf是上边的配置文件】 |


```


需要注意：先备份在删除操作，家人们。。。 至于qshell的下载工具， 兄弟们去网上搜一下qshell关键字就可以找到了。
 本博客参考[FlowerCloud机场](https://hushicha.org)。转载请注明出处！
